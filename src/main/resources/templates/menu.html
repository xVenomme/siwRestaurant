<!-- templates/menu_list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Elenco Menù</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
    <h1>Elenco Menù</h1>
    <a th:href="@{/menu/new}">Crea Nuovo Menù</a>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Tipo</th>
                <th>Prezzo Totale</th>
                <th>Azioni</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="menu : ${menus}">
                <td th:text="${menu.id}">1</td>
                <td th:text="${menu.nome}">Menu di esempio</td>
                <td th:text="${menu.tipo}">PRANZO</td>
                <td th:text="${#numbers.formatDecimal(menu.prezzoTotale, 1, 'POINT', 2, 'NONE')} €">0.00 €</td>
                <td>
                    <a th:href="@{'/menu/' + ${menu.id}}">Dettagli</a> |
                    <a th:href="@{'/menu/edit/' + ${menu.id}}">Modifica</a> |
                    <a th:href="@{'/menu/delete/' + ${menu.id}}" onclick="return confirm('Sei sicuro?');">Elimina</a>
                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>

<!-- templates/menu_form.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${menu.id} == null ? 'Nuovo Menù' : 'Modifica Menù'">Nuovo Menù</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
    <h1 th:text="${menu.id} == null ? 'Crea Nuovo Menù' : 'Modifica Menù'">Crea Nuovo Menù</h1>
    <form th:action="@{/menu/save}" th:object="${menu}" method="post">
        <input type="hidden" th:field="*{id}" />
        <div>
            <label>Nome:</label>
            <input type="text" th:field="*{nome}" placeholder="Nome del menù" required />
        </div>
        <div>
            <label>Tipo:</label>
            <select th:field="*{tipo}">
                <option th:each="t : ${T(it.uniroma3.siw.model.MenuTipo).values()}"
                        th:value="${t}" th:text="${t}"></option>
            </select>
        </div>
        <div>
            <label>Piatto:</label>
            <select th:field="*{piatti}" multiple size="5">
                <option th:each="p : ${piattiDisponibili}" th:value="${p.id}" th:text="${p.nome + ' (' + #numbers.formatDecimal(p.prezzo,1,'POINT',2,'NONE') + ' €)'}"></option>
            </select>
        </div>
        <button type="submit">Salva</button>
        <a th:href="@{/menu}">Annulla</a>
    </form>
</body>
</html>

<!-- templates/menu_detail.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Dettagli Menù - ' + ${menu.nome}">Dettagli Menù</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
    <h1 th:text="${menu.nome}">Nome Menù</h1>
    <p><strong>Tipo:</strong> <span th:text="${menu.tipo}">PRANZO</span></p>
    <p><strong>Prezzo Totale:</strong> <span th:text="${#numbers.formatDecimal(menu.prezzoTotale,1,'POINT',2,'NONE')} + ' €'">0.00 €</span></p>
    <h2>Piatti Inclusi</h2>
    <ul>
        <li th:each="p : ${menu.piatti}" th:text="${p.nome + ' - ' + #numbers.formatDecimal(p.prezzo,1,'POINT',2,'NONE') + ' €'}">Piatto</li>
    </ul>
    <a th:href="@{/menu}">Torna all'elenco</a>
</body>
</html>
